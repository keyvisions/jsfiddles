class kvTimeline extends HTMLElement{static lists={};constructor(){super()}connectedCallback(){this.style.display="none";const e=JSON.parse(this.innerText).moments,t=new Date(e.at(0).timestamp).valueOf()-5e5,s=new Date(e.at(-1).timestamp).valueOf()+2e6-t;let a='<div style="position: relative; height: 3rem;">';e.filter((e=>"pick"!=e.type)).forEach(((e,i,l)=>{const n=new Date(new Date(l[i+1]?.timestamp).valueOf()-new Date(e.timestamp).valueOf()).toJSON()?.substring(11,16);a+=`<span title="${e.name}" style="padding:0.5rem 0; border-left: thin solid black; position:absolute; top: 0; left:${(new Date(e.timestamp).valueOf()-t)/s*100}%"><i class="fas fa-fw fa-${"phase"==e.type?"cog":"circle"}"></i><span style="overflow-text: ellipsis; font-size:smaller"> ${i<l.length-1?n:""}</span></span>`})),a+='<hr style="position:absolute; top: 2rem; width: 100%;">',e.forEach((e=>{"pick"==e.type&&(a+=`<span style="padding:0.5rem 0; border-left: thin solid black; position:absolute; top: 3rem; left:${(new Date(e.timestamp).valueOf()-t)/s*100}%"><i class="fas fa-fw fa-shopping-cart"></i></span>`)})),a+="<div>",this.insertAdjacentHTML("afterEnd",a)}}customElements.define("kv-timeline",kvTimeline);